<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Detalhes — SGF</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
  <div class="container">
    <header class="header">
      <img src="assets/img/logosovel1337.png" class="logo" alt="logo" />
      <div>
        <div class="title">Detalhes do Ferramental</div>
        <div class="subtitle">Visualize informações completas</div>
      </div>
    </header>

    <main class="card fade-in">
      <div id="detalhes">
        <h3>Carregando...</h3>
      </div>
      <div style="margin-top:12px;">
        <a class="btn ghost" href="consultar.html">← Voltar à Consulta</a>
      </div>
    </main>
  </div>

  <script type="module">
    import { buscarPorId } from './assets/js/script.js';
    function qp(n){ return new URLSearchParams(window.location.search).get(n); }
    const id = qp('id');
    const detalhesDiv = document.getElementById('detalhes');
    if(!id) detalhesDiv.innerHTML = '<h3>ID não fornecido</h3>';
    else (async ()=>{
      const d = await buscarPorId(id);
      if(!d) { detalhesDiv.innerHTML = '<h3>Ferramental não encontrado</h3>'; return; }
      detalhesDiv.innerHTML = `
        <h2 style="color:var(--accent)">${d.nome || '—'}</h2>
        <p><strong>Tipo:</strong> ${d.tipo || '—'}</p>
        <p><strong>NF-e:</strong> ${d.nfe || '—'}</p>
        <p><strong>SV:</strong> ${d.sv || '—'}</p>
        <p><strong>Data de Registro:</strong> ${d.dataRegistro || '—'}</p>
        <p><strong>Estado:</strong> ${d.estado || '—'}</p>
        <p><strong>Localização:</strong> ${d.localizacao || '—'}</p>
        <p><strong>Responsável:</strong> ${d.responsavel || '—'}</p>
      `;
    })();
  </script>
</body>
</html>
